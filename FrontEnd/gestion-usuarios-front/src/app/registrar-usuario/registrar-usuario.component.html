<div class="col-md-6 offset-md-3">
  <h3 class="text-center"> Registro de usuarios

  </h3>
  <form (ngSubmit)="onSubmit()" #usuarioForm="ngForm" enctype="multipart/form-data">
    <div class="form-group">
      <div class="wrapper">
        <div class="position-relative">
            <h3>Subir imagen</h3>
            <input class="input-file" (change)="capturarFile($event)" type="file">
            <div class="preview-img" *ngIf="previsualizacion">
                <button class="clear-image" type="button" (click)="clearImage()">Clear</button>
                <img width="100px" [src]="previsualizacion" alt="">
            </div>

            <div class="p-1">
                <small>Se aceptan archivos imágenes de tipo .png</small>
            </div>
            <div class="wrapper-button" *ngIf="previsualizacion">
                <button type="button" class="button" [disabled]="loading" (click)="subirArchivo()">
                    {{(loading) ? 'Cargando.....' : 'Subir Archivo'}}
                </button>
            </div>

        </div>

      </div>
    </div>
    <div class="form-group">
      <label> Nombre: </label>
      <input type="text"
      class="form-control"
      id="name"
      [(ngModel)]="usuario.name"
      name="name"
      required
      placeholder="Digite su nombre"
      #name="ngModel">
      <div class="alert alert-danger" *ngIf="name.invalid && (name.dirty || name.touch)">
        <div *ngIf="name.errors.required">
          Digite su nombre por favor

        </div>

      </div>
    </div>
    <div class="form-group">
      <label> Email: </label>
      <input type="text"
      class="form-control"
      id="email"
      [(ngModel)]="usuario.email"
      name="email"
      required
      pattern="[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)*@[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)*[.][a-zA-Z]{1,5}"
      placeholder="Digite su correo electronico"
      #email="ngModel">
      <div class="alert alert-danger" *ngIf= "email.invalid && (email.dirty || email.touched)">
        <div *ngIf = "email.errors.required">
          Digite su email por favor
        </div>
        <div *ngIf = "email.errors.pattern">
          Por favor digite el email con el siguiente formato : user100@gmail.com
        </div>
      </div>
    </div>
    <div class="form-group">
      <label> address: </label>
      <input type="text"
      class="form-control"
      id="address"
      [(ngModel)]="usuario.address"
      name="address"
      required
      placeholder="Digite su direccion"
      #address="ngModel">
      <div class="alert alert-danger" *ngIf= "address.invalid && (address.dirty || address.touched)">


      </div>
    </div>
    <div class="form-group">
      <label> telefono: </label>
      <input type="text"
      class="form-control"
      id="phone"
      [(ngModel)]="usuario.phone"
      name="phone"
      placeholder="Digite su telefono"
      #phone="ngModel">
      <div class="alert alert-danger" *ngIf= "phone.invalid && (phone.dirty || phone.touched)">


      </div>
    </div>

    <div class="form-group">
      <label> edad: </label>
      <input type="text"
      class="form-control"
      id="age"
      [(ngModel)]="usuario.age"
      name="age"
      placeholder="Digite su edad"
      #age="ngModel">
      <div class="alert alert-danger" *ngIf= "age.invalid && (age.dirty || age.touched)">


      </div>
    </div>
    <div class="form-group">
      <label> pais: </label>
      <input type="text"
      class="form-control"
      id="country"
      [(ngModel)]="usuario.country"
      name="country"
      placeholder="Digite su pais"
      #age="ngModel">
      <div class="alert alert-danger" *ngIf= "country.invalid && (country.dirty || country.touched)">


      </div>
    </div>
    <div class="form-group">
      <label> contraseña: </label>
      <input type="password"
      class="form-control"
      id="password"
      [(ngModel)]="usuario.password"

      name="password"
      required
      pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$"
      placeholder="Digite contraseña"
      #password="ngModel">
      <div class="alert alert-danger" *ngIf= "password.invalid && (password.dirty || password.touched)">
        <div *ngIf = "password.errors.required">
          Digite una contraseña por favor
        </div>
        <div *ngIf = "password.errors.pattern">
          La contraseña tiene que tener al menos una letra y un numero
          .Debe contener tambien al menos 8 caracteres
        </div>
      </div>
    </div>
    <button class="btn btn-success" [disabled]="!usuarioForm.form.valid">Guardar</button>
  </form>

</div>
